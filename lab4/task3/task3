	.ORIG x3000
    ; Объявление строки в памяти
    STRING  .BLKW 80
    ; Адрес переменной буфера для хранения символа
    BUFFER  .FILL x4000
    
; Выводите приглашение для ввода
    LEA R1, PROMPT
    PUTS

    ; Получение строки от пользователя
GET_INPUT
    LD R0, BUFFER
    ; Выводите приглашение для ввода
    LEA R1, PROMPT
    PUTS
  
    ; Чтение строки от пользователя
    GETC
    ST R0, STRING
    ADD R0, R0, #1
    ST R0, STRING
    
    ; Проверка, является ли символ новой строки
    ; Если да, то завершите ввод.
    LDR R1, STRING
    ADD R1, R1, #1
    LDR R2, STRING

; Вывод каждого символа в терминал
PRINT_STRING
    LDR R3, STRING
    ADD R4, R2, R3
    ADD R2, R2, #1
    LDR R0, R4
    OUT
    BRp PRINT_STRING
  
; Завершение программы
HALT

; Строка приглашения для ввода
PROMPT   .STRINGZ   "Введите строку:"
.END